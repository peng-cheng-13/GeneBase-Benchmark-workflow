#Author: Peng Cheng
#Email: peng_cheng_13@163.com


# I.Introduction
The GeneBase workflow is a benchmark workflow derived from BigDataBench-s and GenBase Benchmark. 
It consists of 6 tasks:

    1. data_generator: Generates input matrix data, including gene expression omnibus table(GEO), patient metadata table (PM),
    		       gene metadata table (GM), and gene ontology table (GO).

    2. query_pre: It's a pre processing task which formats data for hive.

    3. gather: Merge the output data of query_pre tasks and generates the final GEO table, PM table and GM table.

    4. query_processsing: Loads the final GEO table, PM table and GM table to HIVE and selects/join the data that satisfy the requirements.

    5. query_post: It's a post processing task which formats the selected data for mahout.

    6. covar-spark: The Covariance calculation task executed by spark to analyze the relevance of multidimensional data.


# Structure


#Usage
1. Set environments for Binary Tree workflow in "new-submit" file
    a. INTER_DIR, the intermediate data dir in TDMS or Lustre
    b. TOOL_DIR, the dir that contains the task files written in different langerages(Lustre, TDMS)
    c. DATA_SIZE, the data size(bum of rows/cols of data matrix) that produced by each job
    d. Modify the path of hive and spark-submit in file "site.xml"

2. Modify the data path or exec path in each tasks;
   For example, the path of "create_hive_loading_script.sh" and "format_data_for_hive.py" in query_pre task should be 
   modified to match your envrionment.

3. Modify the the PFN of executables in "generate-dax" file.
   Tips: The dax file will be generated by "generate-dax" file. Modify the task defined code in this file if needed.

4. Set the environments varaibles in "site.xml" file.

5. Submit workflow
    run "./new-submit" command. 

